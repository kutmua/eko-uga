var Cocoen=(()=>{var g=Object.defineProperty;var b=(n,e)=>{for(var t in e)g(n,t,{get:e[t],enumerable:!0})};var f={};b(f,{create:()=>s,parse:()=>p});var a="cocoen",r=`${a}-component`;var l=n=>Number.parseInt(window.getComputedStyle(n).width,10);var h=({dragElementWidth:n,hostElementWidth:e,x:t})=>{let i=t;t<0?i=n:t>=e&&(i=e-n);let o=i+n/2;return o/=e,o*100};var d=(n,e)=>{let t=0;n instanceof MouseEvent?t=n.clientX:n instanceof TouchEvent&&(t=n.touches[0].clientX);let i=e?.getBoundingClientRect().left||0;return t-i};var c=(n,e)=>{let t;return(...i)=>{let o;return t&&clearTimeout(t),t=setTimeout(()=>{o=n(...i)},e),o}};var m=n=>`${n}%`;var E=`
  :host {
    box-sizing: border-box;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    cursor: pointer;
    display: block;
    overflow: hidden;
    position: relative;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -khtml-user-select: none;
    -ms-user-select: none;
  }

  :host *,
  :host *:after,
  :host *:before {
    box-sizing: inherit;
    -moz-box-sizing: inherit;
    -webkit-box-sizing: inherit;
  }

  #before {
    height: 100%;
    left: 0;
    overflow: hidden;
    position: absolute;
    top: 0;
    width: 50%;
  }

  #drag {
    background: var(--color, #fff);
    bottom: 0;
    cursor: ew-resize;
    left: 50%;
    margin-left: -1px;
    position: absolute;
    top: 0;
    width: 2px;
  }

  #drag:before {
    border: 3px solid var(--color, #fff);
    content: '';
    height: 30px;
    left: 50%;
    margin-left: -7px;
    margin-top: -15px;
    position: absolute;
    top: 50%;
    width: 14px;
  }

  ::slotted(img) {
    max-height: 100%;
    object-fit: contain;
    pointer-events: none;
  }

  ::slotted(img[slot=before]) {
    max-width: none;
  }

  ::slotted(img[slot=after]) {
    display: block;
    max-width: 100%;
    width: 100%;
  }
`,v=class extends HTMLElement{constructor(){super();this.animateToValue=0;this.colorValue="#fff";this.dragElementWidthValue=0;this.elementWidthValue=0;this.isDraggingValue=!1;this.openRatioValue=50;this.isRenderedValue=!1;this.isVisibleValue=!1;this.xValue=0;this.drag=null,this.shadowDOM=this.attachShadow({mode:"open"}),this.onDragStartHandler=()=>this.onDragStart(),this.onDragEndHandler=()=>this.onDragEnd(),this.onDragHandler=e=>this.onDrag(e),this.onClickHandler=e=>this.onClick(e),this.onContextMenuHandler=()=>this.onContextMenu(),this.onIntersectionHandler=(e,t)=>this.onIntersection(e,t),this.debouncedUpdateDimensions=c(()=>{this.updateDimensions()},250),this.intersectionObserver=new IntersectionObserver(this.onIntersectionHandler,{root:null,rootMargin:"0px",threshold:0})}get x(){return this.xValue}set x(e){this.xValue=e,window.requestAnimationFrame(()=>{this.openRatio=h({x:this.xValue,dragElementWidth:this.dragElementWidth,hostElementWidth:this.elementWidth})})}get elementWidth(){return this.elementWidthValue}set elementWidth(e){this.elementWidthValue=e}get dragElementWidth(){return this.dragElementWidthValue}set dragElementWidth(e){this.dragElementWidthValue=e}get isDragging(){return this.isDraggingValue}set isDragging(e){this.isDraggingValue=e}get openRatio(){return this.openRatioValue}set openRatio(e){this.openRatioValue=e,window.requestAnimationFrame(()=>{this.updateStyles()})}get color(){return this.colorValue}set color(e){this.colorValue=e,window.requestAnimationFrame(()=>{this.style.setProperty("--color",this.color)})}get isVisible(){return this.isVisibleValue}set isVisible(e){this.isVisibleValue=e}get isRendered(){return this.isRenderedValue}set isRendered(e){this.isRenderedValue=e}get animateTo(){return this.animateToValue}set animateTo(e){this.animateToValue=e}static get observedAttributes(){return["start","color"]}attributeChangedCallback(e,t,i){t!==i&&(e==="start"&&(this.animateTo=Number.parseInt(String(this.getAttribute("start")),10),this.isVisible&&(this.openRatio=this.animateTo)),e==="color"&&(this.color=String(this.getAttribute("color"))))}connectedCallback(){this.isRendered||(this.render(),this.isRendered=!0,this.dispatchEvent(new CustomEvent(`${r}:connected`,this.customEventPayload())),this.drag=this.shadowDOM.querySelector("#drag"),this.updateDimensions(),this.addEventListener("mousedown",this.onDragStartHandler,{passive:!0}),this.addEventListener("touchstart",this.onDragStartHandler,{passive:!0}),this.addEventListener("mousemove",this.onDragHandler,{passive:!0}),this.addEventListener("touchmove",this.onDragHandler,{passive:!0}),this.addEventListener("click",this.onClickHandler,{passive:!0}),this.addEventListener("contextmenu",this.onContextMenuHandler,{passive:!0}),window.addEventListener("resize",this.debouncedUpdateDimensions,{passive:!0}),window.addEventListener("mouseup",this.onDragEndHandler,{passive:!0}),window.addEventListener("touchend",this.onDragEndHandler,{passive:!0}),this.intersectionObserver.observe(this))}disconnectedCallback(){this.dispatchEvent(new CustomEvent(`${r}:disconnected`,this.customEventPayload())),this.removeEventListener("mousedown",this.onDragStartHandler),this.removeEventListener("touchstart",this.onDragStartHandler),this.removeEventListener("mousemove",this.onDragHandler),this.removeEventListener("touchmove",this.onDragHandler),this.removeEventListener("click",this.onClickHandler),this.removeEventListener("contextmenu",this.onContextMenuHandler),window.removeEventListener("resize",this.debouncedUpdateDimensions),window.removeEventListener("mouseup",this.onDragEndHandler),window.removeEventListener("touchend",this.onDragEndHandler),this.intersectionObserver.unobserve(this)}render(){this.shadowDOM.innerHTML=`
      <style>${E}</style>
      <div id="before">
        <slot name="before"></slot>
      </div>
      <slot name="after"></slot>
      <div id="drag" part="drag"></div>
    `}updateDimensions(){this.elementWidth=l(this),this.drag&&(this.dragElementWidth=l(this.drag)),this.dispatchEvent(new CustomEvent(`${r}:resized`,this.customEventPayload()))}updateStyles(){let e=this.shadowDOM.querySelector("#before"),t=this.shadowDOM.querySelector("#drag"),i=m(this.openRatio);this.animateTo?(e.style.transition="width .75s",t.style.transition="left .75s"):(e.style.transition="none",t.style.transition="none"),e.style.width=i,t.style.left=i,this.dispatchEvent(new CustomEvent(`${r}:updated`,this.customEventPayload()))}onDragStart(){this.animateTo=0,this.isDragging=!0}onDrag(e){!this.isDragging||(this.x=d(e,this))}onDragEnd(){this.isDragging=!1}onClick(e){this.animateTo=0,this.x=d(e,this)}onContextMenu(){this.isDragging=!1}onIntersection(e,t){e.forEach(i=>{i.isIntersecting&&(this.dispatchEvent(new CustomEvent(`${r}:visible`,this.customEventPayload())),this.animateTo&&(this.openRatio=this.animateTo),this.isVisible=!0,t.unobserve(this))})}customEventPayload(){return{bubbles:!0,composed:!0,detail:{elementWidth:this.elementWidth,openRatio:this.openRatio,isRendered:this.isRendered,isVisible:this.isVisible}}}};customElements.define(r,v);var s=(n,e)=>{let t=document.createElement(r),i=n.querySelectorAll("img")[0],o=n.querySelectorAll("img")[1];if(!i||!o)throw new Error("Cocoen needs two images");return i.setAttribute("slot","before"),o.setAttribute("slot","after"),t.append(i.cloneNode(!0)),t.append(o.cloneNode(!0)),Object.keys(n.dataset).forEach(u=>t.setAttribute(u,String(n.dataset[u]))),e?.start&&t.setAttribute("start",String(e.start)),e?.color&&t.setAttribute("color",e.color),n.replaceWith(t),t};var p=n=>{[...n.querySelectorAll(`.${a}`)].map(t=>s(t))};return f;})();
//# sourceMappingURL=cocoen.js.map

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjb2NvZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIENvY29lbj0oKCk9Pnt2YXIgZz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dmFyIGI9KG4sZSk9Pntmb3IodmFyIHQgaW4gZSlnKG4sdCx7Z2V0OmVbdF0sZW51bWVyYWJsZTohMH0pfTt2YXIgZj17fTtiKGYse2NyZWF0ZTooKT0+cyxwYXJzZTooKT0+cH0pO3ZhciBhPVwiY29jb2VuXCIscj1gJHthfS1jb21wb25lbnRgO3ZhciBsPW49Pk51bWJlci5wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKS53aWR0aCwxMCk7dmFyIGg9KHtkcmFnRWxlbWVudFdpZHRoOm4saG9zdEVsZW1lbnRXaWR0aDplLHg6dH0pPT57bGV0IGk9dDt0PDA/aT1uOnQ+PWUmJihpPWUtbik7bGV0IG89aStuLzI7cmV0dXJuIG8vPWUsbyoxMDB9O3ZhciBkPShuLGUpPT57bGV0IHQ9MDtuIGluc3RhbmNlb2YgTW91c2VFdmVudD90PW4uY2xpZW50WDpuIGluc3RhbmNlb2YgVG91Y2hFdmVudCYmKHQ9bi50b3VjaGVzWzBdLmNsaWVudFgpO2xldCBpPWU/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnR8fDA7cmV0dXJuIHQtaX07dmFyIGM9KG4sZSk9PntsZXQgdDtyZXR1cm4oLi4uaSk9PntsZXQgbztyZXR1cm4gdCYmY2xlYXJUaW1lb3V0KHQpLHQ9c2V0VGltZW91dCgoKT0+e289biguLi5pKX0sZSksb319O3ZhciBtPW49PmAke259JWA7dmFyIEU9YFxuICA6aG9zdCB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgfVxuXG4gIDpob3N0ICosXG4gIDpob3N0ICo6YWZ0ZXIsXG4gIDpob3N0ICo6YmVmb3JlIHtcbiAgICBib3gtc2l6aW5nOiBpbmhlcml0O1xuICAgIC1tb3otYm94LXNpemluZzogaW5oZXJpdDtcbiAgICAtd2Via2l0LWJveC1zaXppbmc6IGluaGVyaXQ7XG4gIH1cblxuICAjYmVmb3JlIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgbGVmdDogMDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgd2lkdGg6IDUwJTtcbiAgfVxuXG4gICNkcmFnIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvciwgI2ZmZik7XG4gICAgYm90dG9tOiAwO1xuICAgIGN1cnNvcjogZXctcmVzaXplO1xuICAgIGxlZnQ6IDUwJTtcbiAgICBtYXJnaW4tbGVmdDogLTFweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAycHg7XG4gIH1cblxuICAjZHJhZzpiZWZvcmUge1xuICAgIGJvcmRlcjogM3B4IHNvbGlkIHZhcigtLWNvbG9yLCAjZmZmKTtcbiAgICBjb250ZW50OiAnJztcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgbGVmdDogNTAlO1xuICAgIG1hcmdpbi1sZWZ0OiAtN3B4O1xuICAgIG1hcmdpbi10b3A6IC0xNXB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDUwJTtcbiAgICB3aWR0aDogMTRweDtcbiAgfVxuXG4gIDo6c2xvdHRlZChpbWcpIHtcbiAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIH1cblxuICA6OnNsb3R0ZWQoaW1nW3Nsb3Q9YmVmb3JlXSkge1xuICAgIG1heC13aWR0aDogbm9uZTtcbiAgfVxuXG4gIDo6c2xvdHRlZChpbWdbc2xvdD1hZnRlcl0pIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbmAsdj1jbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50e2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLmFuaW1hdGVUb1ZhbHVlPTA7dGhpcy5jb2xvclZhbHVlPVwiI2ZmZlwiO3RoaXMuZHJhZ0VsZW1lbnRXaWR0aFZhbHVlPTA7dGhpcy5lbGVtZW50V2lkdGhWYWx1ZT0wO3RoaXMuaXNEcmFnZ2luZ1ZhbHVlPSExO3RoaXMub3BlblJhdGlvVmFsdWU9NTA7dGhpcy5pc1JlbmRlcmVkVmFsdWU9ITE7dGhpcy5pc1Zpc2libGVWYWx1ZT0hMTt0aGlzLnhWYWx1ZT0wO3RoaXMuZHJhZz1udWxsLHRoaXMuc2hhZG93RE9NPXRoaXMuYXR0YWNoU2hhZG93KHttb2RlOlwib3BlblwifSksdGhpcy5vbkRyYWdTdGFydEhhbmRsZXI9KCk9PnRoaXMub25EcmFnU3RhcnQoKSx0aGlzLm9uRHJhZ0VuZEhhbmRsZXI9KCk9PnRoaXMub25EcmFnRW5kKCksdGhpcy5vbkRyYWdIYW5kbGVyPWU9PnRoaXMub25EcmFnKGUpLHRoaXMub25DbGlja0hhbmRsZXI9ZT0+dGhpcy5vbkNsaWNrKGUpLHRoaXMub25Db250ZXh0TWVudUhhbmRsZXI9KCk9PnRoaXMub25Db250ZXh0TWVudSgpLHRoaXMub25JbnRlcnNlY3Rpb25IYW5kbGVyPShlLHQpPT50aGlzLm9uSW50ZXJzZWN0aW9uKGUsdCksdGhpcy5kZWJvdW5jZWRVcGRhdGVEaW1lbnNpb25zPWMoKCk9Pnt0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKX0sMjUwKSx0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyPW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLm9uSW50ZXJzZWN0aW9uSGFuZGxlcix7cm9vdDpudWxsLHJvb3RNYXJnaW46XCIwcHhcIix0aHJlc2hvbGQ6MH0pfWdldCB4KCl7cmV0dXJuIHRoaXMueFZhbHVlfXNldCB4KGUpe3RoaXMueFZhbHVlPWUsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e3RoaXMub3BlblJhdGlvPWgoe3g6dGhpcy54VmFsdWUsZHJhZ0VsZW1lbnRXaWR0aDp0aGlzLmRyYWdFbGVtZW50V2lkdGgsaG9zdEVsZW1lbnRXaWR0aDp0aGlzLmVsZW1lbnRXaWR0aH0pfSl9Z2V0IGVsZW1lbnRXaWR0aCgpe3JldHVybiB0aGlzLmVsZW1lbnRXaWR0aFZhbHVlfXNldCBlbGVtZW50V2lkdGgoZSl7dGhpcy5lbGVtZW50V2lkdGhWYWx1ZT1lfWdldCBkcmFnRWxlbWVudFdpZHRoKCl7cmV0dXJuIHRoaXMuZHJhZ0VsZW1lbnRXaWR0aFZhbHVlfXNldCBkcmFnRWxlbWVudFdpZHRoKGUpe3RoaXMuZHJhZ0VsZW1lbnRXaWR0aFZhbHVlPWV9Z2V0IGlzRHJhZ2dpbmcoKXtyZXR1cm4gdGhpcy5pc0RyYWdnaW5nVmFsdWV9c2V0IGlzRHJhZ2dpbmcoZSl7dGhpcy5pc0RyYWdnaW5nVmFsdWU9ZX1nZXQgb3BlblJhdGlvKCl7cmV0dXJuIHRoaXMub3BlblJhdGlvVmFsdWV9c2V0IG9wZW5SYXRpbyhlKXt0aGlzLm9wZW5SYXRpb1ZhbHVlPWUsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e3RoaXMudXBkYXRlU3R5bGVzKCl9KX1nZXQgY29sb3IoKXtyZXR1cm4gdGhpcy5jb2xvclZhbHVlfXNldCBjb2xvcihlKXt0aGlzLmNvbG9yVmFsdWU9ZSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57dGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY29sb3JcIix0aGlzLmNvbG9yKX0pfWdldCBpc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5pc1Zpc2libGVWYWx1ZX1zZXQgaXNWaXNpYmxlKGUpe3RoaXMuaXNWaXNpYmxlVmFsdWU9ZX1nZXQgaXNSZW5kZXJlZCgpe3JldHVybiB0aGlzLmlzUmVuZGVyZWRWYWx1ZX1zZXQgaXNSZW5kZXJlZChlKXt0aGlzLmlzUmVuZGVyZWRWYWx1ZT1lfWdldCBhbmltYXRlVG8oKXtyZXR1cm4gdGhpcy5hbmltYXRlVG9WYWx1ZX1zZXQgYW5pbWF0ZVRvKGUpe3RoaXMuYW5pbWF0ZVRvVmFsdWU9ZX1zdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpe3JldHVybltcInN0YXJ0XCIsXCJjb2xvclwiXX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soZSx0LGkpe3QhPT1pJiYoZT09PVwic3RhcnRcIiYmKHRoaXMuYW5pbWF0ZVRvPU51bWJlci5wYXJzZUludChTdHJpbmcodGhpcy5nZXRBdHRyaWJ1dGUoXCJzdGFydFwiKSksMTApLHRoaXMuaXNWaXNpYmxlJiYodGhpcy5vcGVuUmF0aW89dGhpcy5hbmltYXRlVG8pKSxlPT09XCJjb2xvclwiJiYodGhpcy5jb2xvcj1TdHJpbmcodGhpcy5nZXRBdHRyaWJ1dGUoXCJjb2xvclwiKSkpKX1jb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMuaXNSZW5kZXJlZHx8KHRoaXMucmVuZGVyKCksdGhpcy5pc1JlbmRlcmVkPSEwLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoYCR7cn06Y29ubmVjdGVkYCx0aGlzLmN1c3RvbUV2ZW50UGF5bG9hZCgpKSksdGhpcy5kcmFnPXRoaXMuc2hhZG93RE9NLnF1ZXJ5U2VsZWN0b3IoXCIjZHJhZ1wiKSx0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm9uRHJhZ1N0YXJ0SGFuZGxlcix7cGFzc2l2ZTohMH0pLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uRHJhZ1N0YXJ0SGFuZGxlcix7cGFzc2l2ZTohMH0pLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMub25EcmFnSGFuZGxlcix7cGFzc2l2ZTohMH0pLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMub25EcmFnSGFuZGxlcix7cGFzc2l2ZTohMH0pLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbkNsaWNrSGFuZGxlcix7cGFzc2l2ZTohMH0pLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsdGhpcy5vbkNvbnRleHRNZW51SGFuZGxlcix7cGFzc2l2ZTohMH0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5kZWJvdW5jZWRVcGRhdGVEaW1lbnNpb25zLHtwYXNzaXZlOiEwfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5vbkRyYWdFbmRIYW5kbGVyLHtwYXNzaXZlOiEwfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMub25EcmFnRW5kSGFuZGxlcix7cGFzc2l2ZTohMH0pLHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzKSl9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGAke3J9OmRpc2Nvbm5lY3RlZGAsdGhpcy5jdXN0b21FdmVudFBheWxvYWQoKSkpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMub25EcmFnU3RhcnRIYW5kbGVyKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkRyYWdTdGFydEhhbmRsZXIpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMub25EcmFnSGFuZGxlciksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5vbkRyYWdIYW5kbGVyKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGlja0hhbmRsZXIpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsdGhpcy5vbkNvbnRleHRNZW51SGFuZGxlciksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLmRlYm91bmNlZFVwZGF0ZURpbWVuc2lvbnMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMub25EcmFnRW5kSGFuZGxlciksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMub25EcmFnRW5kSGFuZGxlciksdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci51bm9ic2VydmUodGhpcyl9cmVuZGVyKCl7dGhpcy5zaGFkb3dET00uaW5uZXJIVE1MPWBcbiAgICAgIDxzdHlsZT4ke0V9PC9zdHlsZT5cbiAgICAgIDxkaXYgaWQ9XCJiZWZvcmVcIj5cbiAgICAgICAgPHNsb3QgbmFtZT1cImJlZm9yZVwiPjwvc2xvdD5cbiAgICAgIDwvZGl2PlxuICAgICAgPHNsb3QgbmFtZT1cImFmdGVyXCI+PC9zbG90PlxuICAgICAgPGRpdiBpZD1cImRyYWdcIiBwYXJ0PVwiZHJhZ1wiPjwvZGl2PlxuICAgIGB9dXBkYXRlRGltZW5zaW9ucygpe3RoaXMuZWxlbWVudFdpZHRoPWwodGhpcyksdGhpcy5kcmFnJiYodGhpcy5kcmFnRWxlbWVudFdpZHRoPWwodGhpcy5kcmFnKSksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChgJHtyfTpyZXNpemVkYCx0aGlzLmN1c3RvbUV2ZW50UGF5bG9hZCgpKSl9dXBkYXRlU3R5bGVzKCl7bGV0IGU9dGhpcy5zaGFkb3dET00ucXVlcnlTZWxlY3RvcihcIiNiZWZvcmVcIiksdD10aGlzLnNoYWRvd0RPTS5xdWVyeVNlbGVjdG9yKFwiI2RyYWdcIiksaT1tKHRoaXMub3BlblJhdGlvKTt0aGlzLmFuaW1hdGVUbz8oZS5zdHlsZS50cmFuc2l0aW9uPVwid2lkdGggLjc1c1wiLHQuc3R5bGUudHJhbnNpdGlvbj1cImxlZnQgLjc1c1wiKTooZS5zdHlsZS50cmFuc2l0aW9uPVwibm9uZVwiLHQuc3R5bGUudHJhbnNpdGlvbj1cIm5vbmVcIiksZS5zdHlsZS53aWR0aD1pLHQuc3R5bGUubGVmdD1pLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoYCR7cn06dXBkYXRlZGAsdGhpcy5jdXN0b21FdmVudFBheWxvYWQoKSkpfW9uRHJhZ1N0YXJ0KCl7dGhpcy5hbmltYXRlVG89MCx0aGlzLmlzRHJhZ2dpbmc9ITB9b25EcmFnKGUpeyF0aGlzLmlzRHJhZ2dpbmd8fCh0aGlzLng9ZChlLHRoaXMpKX1vbkRyYWdFbmQoKXt0aGlzLmlzRHJhZ2dpbmc9ITF9b25DbGljayhlKXt0aGlzLmFuaW1hdGVUbz0wLHRoaXMueD1kKGUsdGhpcyl9b25Db250ZXh0TWVudSgpe3RoaXMuaXNEcmFnZ2luZz0hMX1vbkludGVyc2VjdGlvbihlLHQpe2UuZm9yRWFjaChpPT57aS5pc0ludGVyc2VjdGluZyYmKHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoYCR7cn06dmlzaWJsZWAsdGhpcy5jdXN0b21FdmVudFBheWxvYWQoKSkpLHRoaXMuYW5pbWF0ZVRvJiYodGhpcy5vcGVuUmF0aW89dGhpcy5hbmltYXRlVG8pLHRoaXMuaXNWaXNpYmxlPSEwLHQudW5vYnNlcnZlKHRoaXMpKX0pfWN1c3RvbUV2ZW50UGF5bG9hZCgpe3JldHVybntidWJibGVzOiEwLGNvbXBvc2VkOiEwLGRldGFpbDp7ZWxlbWVudFdpZHRoOnRoaXMuZWxlbWVudFdpZHRoLG9wZW5SYXRpbzp0aGlzLm9wZW5SYXRpbyxpc1JlbmRlcmVkOnRoaXMuaXNSZW5kZXJlZCxpc1Zpc2libGU6dGhpcy5pc1Zpc2libGV9fX19O2N1c3RvbUVsZW1lbnRzLmRlZmluZShyLHYpO3ZhciBzPShuLGUpPT57bGV0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChyKSxpPW4ucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKVswXSxvPW4ucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKVsxXTtpZighaXx8IW8pdGhyb3cgbmV3IEVycm9yKFwiQ29jb2VuIG5lZWRzIHR3byBpbWFnZXNcIik7cmV0dXJuIGkuc2V0QXR0cmlidXRlKFwic2xvdFwiLFwiYmVmb3JlXCIpLG8uc2V0QXR0cmlidXRlKFwic2xvdFwiLFwiYWZ0ZXJcIiksdC5hcHBlbmQoaS5jbG9uZU5vZGUoITApKSx0LmFwcGVuZChvLmNsb25lTm9kZSghMCkpLE9iamVjdC5rZXlzKG4uZGF0YXNldCkuZm9yRWFjaCh1PT50LnNldEF0dHJpYnV0ZSh1LFN0cmluZyhuLmRhdGFzZXRbdV0pKSksZT8uc3RhcnQmJnQuc2V0QXR0cmlidXRlKFwic3RhcnRcIixTdHJpbmcoZS5zdGFydCkpLGU/LmNvbG9yJiZ0LnNldEF0dHJpYnV0ZShcImNvbG9yXCIsZS5jb2xvciksbi5yZXBsYWNlV2l0aCh0KSx0fTt2YXIgcD1uPT57Wy4uLm4ucXVlcnlTZWxlY3RvckFsbChgLiR7YX1gKV0ubWFwKHQ9PnModCkpfTtyZXR1cm4gZjt9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29jb2VuLmpzLm1hcFxuIl0sImZpbGUiOiJjb2NvZW4uanMifQ==
