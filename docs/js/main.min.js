"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".header-nav-js"),t=document.querySelector(".header-burger-js"),s=document.querySelector(".header__mobile-nav");function r(){document.querySelectorAll(".anchor-link").forEach((function(r){r.addEventListener("click",(function(n){n.preventDefault();var o=r.getAttribute("href"),i=document.querySelector(".header__nav").offsetHeight,a=document.querySelector(""+o).offsetTop-i;window.scrollTo(0,a),t.classList.contains("is-open")&&(t.classList.remove("is-open"),e.classList.remove("show"),s.classList.remove("is-open"),document.getElementsByTagName("body")[0].classList.remove("overflow--lock"),document.getElementsByTagName("html")[0].classList.remove("overflow--lock"))}))}))}t.addEventListener("click",(function(){this.classList.toggle("is-open"),s.classList.contains("is-open")?(s.classList.remove("is-open"),document.getElementsByTagName("body")[0].classList.remove("overflow--lock"),document.getElementsByTagName("html")[0].classList.remove("overflow--lock")):(s.classList.add("is-open"),document.getElementsByTagName("body")[0].classList.add("overflow--lock"),document.getElementsByTagName("html")[0].classList.add("overflow--lock"))}));var n=Array.from(document.querySelector(".portfolio-container-js").children),o=document.querySelector(".show-more-btn-js"),i=document.querySelectorAll(".portfolio__case").length,a=8;o.addEventListener("click",(function(){a+=2;var e=n.slice(0,a);e.forEach((function(e){e.classList.add("show")})),e.length===i&&(o.style.display="none")}));var l=document.querySelectorAll("._form__select");l.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("open")}))})),document.addEventListener("click",(function(e){e.target.classList.contains("_form__select")||l.forEach((function(e){e.classList.contains("open")&&e.classList.remove("open")}))}));var c=document.querySelectorAll(".counter-js"),d=new Date;d.setHours(d.getHours()+1),d.setMinutes(d.getMinutes()+30),c.forEach((function(e){!function(e,t){var s=e.querySelector('[data-counter-indicator="day"]'),r=e.querySelector('[data-counter-indicator="hour"]'),n=e.querySelector('[data-counter-indicator="minutes"]'),o=e.querySelector('[data-counter-indicator="seconds"]');function i(){var e=function(e){var t=Date.parse(e)-Date.parse(new Date),s=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),n=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:n,minutes:r,seconds:s}}(t);!(e.days<=0)||(s.innerHTML="00"),e.days<10?s.innerHTML="0".concat(e.days):s.innerHTML=e.days,!(e.hours<=0)||(r.innerHTML="00"),e.hours<10?r.innerHTML="0".concat(e.hours):r.innerHTML=e.hours,!(e.minutes<=0)||(n.innerHTML="00"),e.minutes<10?n.innerHTML="0".concat(e.minutes):n.innerHTML=e.minutes,!(e.seconds<=0)||(o.innerHTML="00"),e.seconds<10?o.innerHTML="0".concat(e.seconds):o.innerHTML=e.seconds,e.total<=0&&clearInterval(timeinterval)}i(),setInterval(i,1e3)}(e,d)})),r(),window.addEventListener("resize",r),document.getElementById("typed")&&new Typed("#typed",{stringsElement:"#typed-strings",typeSpeed:150,backSpeed:100,loop:!0,loopCount:1/0});var u=new Inputmask("+7 (999) 999-99-99"),p=document.querySelectorAll(".validate-form-js"),w=new bootstrap.Modal("#requestModal",{keyboard:!0}),m=(new bootstrap.Modal("#gratitudeModal",{keyboard:!0}),new bootstrap.Modal("#priceModal",{keyboard:!0}));p.forEach((function(e){var t=e.querySelector('input[type="tel"]');u.mask(t),new JustValidate(e,{errorFieldCssClass:"is-invalid"}).addField(".validate-form-phone-js",[{validator:function(e){return 10===u.unmaskedvalue(e).length},errorMessage:"Введите номер телефона"},{rule:"required",errorMessage:"Обязательное поле"}]).onSuccess((function(e){var t=new bootstrap.Modal("#gratitudeModal",{keyboard:!0}),s=new FormData(e.target),r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status&&(w.hide(),m.hide(),t.show(),console.log("Отправлено"),e.target.reset())},r.open("POST","mail.php",!0),r.send(s)}))})),new Swiper(".stats__swiper",{slidesPerView:1,slidesPerGroup:1,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".stats__swiper-pagination",renderBullet:function(e,t){return'<button class="'+t+" stats__swiper-btn button stats__swiper-btn-"+(e+1)+'"></button>'},clickable:!0}}),new Swiper(".reviews-swiper",{direction:"horizontal",pagination:{el:".reviews-swiper-pagination",clickable:!0},navigation:{nextEl:".reviews-swiper-btn-next",prevEl:".reviews-swiper-btn-prev"}});var v=new Swiper(".city__swiper-small",{spaceBetween:10,slidesPerView:10,freeMode:!0,watchSlidesProgress:!0,breakpoints:{200:{slidesPerView:4},360:{slidesPerView:5},500:{slidesPerView:7},650:{slidesPerView:8},770:{slidesPerView:10}}}),g=(new Swiper(".city__swiper-big",{loop:!0,navigation:{nextEl:".city__swiper-big-btn-next",prevEl:".city__swiper-big-btn-prev"},thumbs:{swiper:v}}),new Swiper(".cars__swiper-small-1",{spaceBetween:10,slidesPerView:7,freeMode:!0,watchSlidesProgress:!0,breakpoints:{200:{slidesPerView:4},360:{slidesPerView:5},500:{slidesPerView:5},650:{slidesPerView:6},770:{slidesPerView:7}}})),y=(new Swiper(".cars__swiper-big-1",{loop:!0,navigation:{nextEl:".cars__swiper-big-btn-next",prevEl:".cars__swiper-big-btn-prev"},thumbs:{swiper:g}}),new Swiper(".cars__swiper-small-2",{spaceBetween:10,slidesPerView:7,freeMode:!0,watchSlidesProgress:!0,breakpoints:{200:{slidesPerView:4},360:{slidesPerView:5},500:{slidesPerView:5},650:{slidesPerView:6},770:{slidesPerView:7}}}));new Swiper(".cars__swiper-big-2",{loop:!0,navigation:{nextEl:".cars__swiper-big-btn-next",prevEl:".cars__swiper-big-btn-prev"},thumbs:{swiper:y}})}));