"use strict";function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}window.onload=function(){document.getElementsByTagName("html")[0].style.visibility="visible";var e=document.querySelectorAll(".tel-1-seo"),t=document.querySelectorAll(".tel-2-seo"),r=document.querySelectorAll(".email-seo"),n=document.querySelector(".header-nav-js"),o=document.querySelector(".header-burger-js"),a=document.querySelector(".header__mobile-nav");function s(){document.querySelectorAll(".anchor-link").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var r=e.getAttribute("href"),s=document.querySelector(".header__nav").offsetHeight,i=document.querySelector(""+r).offsetTop-s;window.scrollTo(0,i),o.classList.contains("is-open")&&(o.classList.remove("is-open"),n.classList.remove("show"),a.classList.remove("is-open"),document.getElementsByTagName("body")[0].classList.remove("overflow--lock"),document.getElementsByTagName("html")[0].classList.remove("overflow--lock"))}))}))}if(o.addEventListener("click",(function(){this.classList.toggle("is-open"),a.classList.contains("is-open")?(a.classList.remove("is-open"),document.getElementsByTagName("body")[0].classList.remove("overflow--lock"),document.getElementsByTagName("html")[0].classList.remove("overflow--lock")):(a.classList.add("is-open"),document.getElementsByTagName("body")[0].classList.add("overflow--lock"),document.getElementsByTagName("html")[0].classList.add("overflow--lock"))})),document.querySelector(".portfolio-container-js")){var i=Array.from(document.querySelector(".portfolio-container-js").children),l=document.querySelector(".show-more-btn-js"),c=document.querySelectorAll(".portfolio__case").length,d=8;l.addEventListener("click",(function(){d+=2;var e=i.slice(0,d);e.forEach((function(e){e.classList.add("show")})),e.length===c&&(l.style.display="none")}))}var u=document.querySelectorAll("._form__select");u.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("open")}))})),document.addEventListener("click",(function(e){e.target.classList.contains("_form__select")||u.forEach((function(e){e.classList.contains("open")&&e.classList.remove("open")}))}));var p=document.querySelectorAll(".counter-js"),m=JSON.parse(localStorage.getItem("timer")),f=new Date;function h(e,t){if(!1===t){var r,n=Date.parse(f)-Date.parse(new Date);return w(e,r={total:n,seconds:Math.floor(n/1e3%60),minutes:Math.floor(n/1e3/60%60),hours:Math.floor(n/36e5%24),days:Math.floor(n/864e5)}),localStorage.setItem("timer",JSON.stringify(r)),n}var o,a,s=JSON.parse(localStorage.getItem("timer"));return s.total>0&&(o=s.total-200),w(e,a={total:o,seconds:Math.floor(o/1e3%60),minutes:Math.floor(o/1e3/60%60),hours:Math.floor(o/36e5%24),days:Math.floor(o/864e5)}),localStorage.setItem("timer",JSON.stringify(a)),o}function w(e,t){var r=e.querySelector('[data-counter-indicator="day"]'),n=e.querySelector('[data-counter-indicator="hour"]'),o=e.querySelector('[data-counter-indicator="minutes"]'),a=e.querySelector('[data-counter-indicator="seconds"]');!(t.days<=0)||(r.innerHTML="00"),t.days<10?r.innerHTML="0".concat(t.days):r.innerHTML=t.days,!(t.hours<=0)||(n.innerHTML="00"),t.hours<10?n.innerHTML="0".concat(t.hours):n.innerHTML=t.hours,!(t.minutes<=0)||(o.innerHTML="00"),t.minutes<10?o.innerHTML="0".concat(t.minutes):o.innerHTML=t.minutes,!(t.seconds<=0)||(a.innerHTML="00"),t.seconds<10?a.innerHTML="0".concat(t.seconds):a.innerHTML=t.seconds}f.setHours(f.getHours()+1),f.setMinutes(f.getMinutes()+30),m&&0!==m.total?p.forEach((function(e){h(e,!0);var t=setInterval((function(){h(e,!0)<=0&&(clearInterval(t),localStorage.removeItem("timer"))}),1e3)})):p.forEach((function(e){h(e,!1);var t=setInterval((function(){h(e,!1)<=0&&(clearInterval(t),localStorage.removeItem("timer"))}),1e3)})),r.length&&r.forEach((function(e){e.addEventListener("click",(function(){return ym(93183406,"reachGoal","email"),!0}))})),e.length&&e.forEach((function(e){e.addEventListener("click",(function(){return ym(93183406,"reachGoal","firstTel"),!0}))})),t.length&&t.forEach((function(e){e.addEventListener("click",(function(){return ym(93183406,"reachGoal","secondTel"),!0}))})),s(),window.addEventListener("resize",s);var y=new Inputmask("+7 (999) 999-99-99"),v=document.querySelectorAll(".validate-form-js"),g=new bootstrap.Modal("#requestModal",{keyboard:!0}),b=(new bootstrap.Modal("#gratitudeModal",{keyboard:!0}),new bootstrap.Modal("#priceModal",{keyboard:!0}));v.forEach((function(e){var t=e.querySelector("._form__btn.disable");t.addEventListener("click",(function(){return ym(93183406,"reachGoal","formid"),!0}));var r=e.querySelector('input[type="tel"]');y.mask(r),new JustValidate(e,{errorFieldCssClass:"is-invalid"}).addField(".validate-form-botName-js",[{validator:function(e){return!(e.length>0&&(location.replace("https://eko-yuga.ru/404.html"),1))},errorMessage:"Обязательное поле"}]).addField(".validate-form-phone-js",[{validator:function(e){return 10===y.unmaskedvalue(e).length?(t.classList.contains("disable")&&t.hasAttribute("disabled")&&(t.removeAttribute("disabled"),t.classList.remove("disable")),!0):(t.classList.contains("disable")||t.hasAttribute("disabled")||(t.setAttribute("disabled",""),t.classList.add("disable")),!1)},errorMessage:"Введите номер телефона"},{rule:"required",errorMessage:"Обязательное поле"}]).onSuccess((function(r){t.classList.contains("disable")||t.hasAttribute("disabled")||(t.setAttribute("disabled",""),t.classList.add("disable")),grecaptcha.ready((function(){grecaptcha.execute("6Ld8ZaonAAAAALB2L3TwOVkXYJrs7Wi06uCCX65U",{action:"homepage"}).then((function(t){e.querySelector("[data-token-id]").value=t;var n,o="",a=new URLSearchParams,s=_createForOfIteratorHelper(new FormData(e));try{for(s.s();!(n=s.n()).done;){var i=n.value;a.append(i[0],i[1])}}catch(e){s.e(e)}finally{s.f()}document.querySelector(".send-main-page.hidden")?o="reCaptcha.php":document.querySelector(".send-secondary-page.hidden")&&(o="../reCaptcha.php"),fetch(o,{method:"post",body:a}).then((function(e){return e.json()})).then((function(e){if(e.om_score>=.5){console.log("Person");var t=new FormData(r.target),n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(g.hide(),b.hide(),console.log("Отправлено"),r.target.reset())},document.querySelector(".send-main-page.hidden")?(n.open("POST","mail.php",!0),n.send(t),location.replace("https://eko-yuga.ru/thanks-page")):document.querySelector(".send-secondary-page.hidden")&&(n.open("POST","../mail.php",!0),n.send(t),location.replace("https://eko-yuga.ru/thanks-page"))}else console.log("Bot"),alert("Извините! Вы не прошли проверку на робота. Повторите запрос позже!")}))}))}))}))})),new Swiper(".stats__swiper",{slidesPerView:1,slidesPerGroup:1,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".stats__swiper-pagination",renderBullet:function(e,t){return'<button class="'+t+" stats__swiper-btn button stats__swiper-btn-"+(e+1)+'"></button>'},clickable:!0}}),new Swiper(".reviews-swiper",{direction:"horizontal",pagination:{el:".reviews-swiper-pagination",clickable:!0},navigation:{nextEl:".reviews-swiper-btn-next",prevEl:".reviews-swiper-btn-prev"}});var S=new Swiper(".city__swiper-small",{spaceBetween:10,slidesPerView:10,freeMode:!0,watchSlidesProgress:!0,breakpoints:{200:{slidesPerView:4},360:{slidesPerView:5},500:{slidesPerView:7},650:{slidesPerView:8},770:{slidesPerView:10}}}),L=(new Swiper(".city__swiper-big",{loop:!0,navigation:{nextEl:".city__swiper-big-btn-next",prevEl:".city__swiper-big-btn-prev"},thumbs:{swiper:S}}),new Swiper(".cars__swiper-small-1",{spaceBetween:10,slidesPerView:7,freeMode:!0,watchSlidesProgress:!0,breakpoints:{200:{slidesPerView:4},360:{slidesPerView:5},500:{slidesPerView:5},650:{slidesPerView:6},770:{slidesPerView:7}}})),_=(new Swiper(".cars__swiper-big-1",{loop:!0,navigation:{nextEl:".cars__swiper-big-btn-next",prevEl:".cars__swiper-big-btn-prev"},thumbs:{swiper:L}}),new Swiper(".cars__swiper-small-2",{spaceBetween:10,slidesPerView:7,freeMode:!0,watchSlidesProgress:!0,breakpoints:{200:{slidesPerView:4},360:{slidesPerView:5},500:{slidesPerView:5},650:{slidesPerView:6},770:{slidesPerView:7}}}));new Swiper(".cars__swiper-big-2",{loop:!0,navigation:{nextEl:".cars__swiper-big-btn-next",prevEl:".cars__swiper-big-btn-prev"},thumbs:{swiper:_}})};