"use strict";document.addEventListener("DOMContentLoaded",(function(){document.getElementsByTagName("html")[0].style.visibility="visible";var e=document.querySelectorAll(".tel-1-seo"),t=document.querySelectorAll(".tel-2-seo"),r=document.querySelectorAll(".email-seo"),s=document.querySelector(".header-nav-js"),n=document.querySelector(".header-burger-js"),o=document.querySelector(".header__mobile-nav");function i(){document.querySelectorAll(".anchor-link").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var r=e.getAttribute("href"),i=document.querySelector(".header__nav").offsetHeight,a=document.querySelector(""+r).offsetTop-i;window.scrollTo(0,a),n.classList.contains("is-open")&&(n.classList.remove("is-open"),s.classList.remove("show"),o.classList.remove("is-open"),document.getElementsByTagName("body")[0].classList.remove("overflow--lock"),document.getElementsByTagName("html")[0].classList.remove("overflow--lock"))}))}))}if(n.addEventListener("click",(function(){this.classList.toggle("is-open"),o.classList.contains("is-open")?(o.classList.remove("is-open"),document.getElementsByTagName("body")[0].classList.remove("overflow--lock"),document.getElementsByTagName("html")[0].classList.remove("overflow--lock")):(o.classList.add("is-open"),document.getElementsByTagName("body")[0].classList.add("overflow--lock"),document.getElementsByTagName("html")[0].classList.add("overflow--lock"))})),document.querySelector(".portfolio-container-js")){var a=Array.from(document.querySelector(".portfolio-container-js").children),l=document.querySelector(".show-more-btn-js"),c=document.querySelectorAll(".portfolio__case").length,d=8;l.addEventListener("click",(function(){d+=2;var e=a.slice(0,d);e.forEach((function(e){e.classList.add("show")})),e.length===c&&(l.style.display="none")}))}var u=document.querySelectorAll("._form__select");u.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("open")}))})),document.addEventListener("click",(function(e){e.target.classList.contains("_form__select")||u.forEach((function(e){e.classList.contains("open")&&e.classList.remove("open")}))}));var m=document.querySelectorAll(".counter-js"),p=JSON.parse(localStorage.getItem("timer")),w=new Date;function f(e,t){if(!1===t){var r,s=Date.parse(w)-Date.parse(new Date);return v(e,r={total:s,seconds:Math.floor(s/1e3%60),minutes:Math.floor(s/1e3/60%60),hours:Math.floor(s/36e5%24),days:Math.floor(s/864e5)}),localStorage.setItem("timer",JSON.stringify(r)),s}var n,o,i=JSON.parse(localStorage.getItem("timer"));return i.total>0&&(n=i.total-200),v(e,o={total:n,seconds:Math.floor(n/1e3%60),minutes:Math.floor(n/1e3/60%60),hours:Math.floor(n/36e5%24),days:Math.floor(n/864e5)}),localStorage.setItem("timer",JSON.stringify(o)),n}function v(e,t){var r=e.querySelector('[data-counter-indicator="day"]'),s=e.querySelector('[data-counter-indicator="hour"]'),n=e.querySelector('[data-counter-indicator="minutes"]'),o=e.querySelector('[data-counter-indicator="seconds"]');!(t.days<=0)||(r.innerHTML="00"),t.days<10?r.innerHTML="0".concat(t.days):r.innerHTML=t.days,!(t.hours<=0)||(s.innerHTML="00"),t.hours<10?s.innerHTML="0".concat(t.hours):s.innerHTML=t.hours,!(t.minutes<=0)||(n.innerHTML="00"),t.minutes<10?n.innerHTML="0".concat(t.minutes):n.innerHTML=t.minutes,!(t.seconds<=0)||(o.innerHTML="00"),t.seconds<10?o.innerHTML="0".concat(t.seconds):o.innerHTML=t.seconds}w.setHours(w.getHours()+1),w.setMinutes(w.getMinutes()+30),p&&0!==p.total?m.forEach((function(e){f(e,!0);var t=setInterval((function(){f(e,!0)<=0&&(clearInterval(t),localStorage.removeItem("timer"))}),1e3)})):m.forEach((function(e){f(e,!1);var t=setInterval((function(){f(e,!1)<=0&&(clearInterval(t),localStorage.removeItem("timer"))}),1e3)})),r.length&&r.forEach((function(e){e.addEventListener("click",(function(){return ym(93183406,"reachGoal","email"),!0}))})),e.length&&e.forEach((function(e){e.addEventListener("click",(function(){return ym(93183406,"reachGoal","firstTel"),!0}))})),t.length&&t.forEach((function(e){e.addEventListener("click",(function(){return ym(93183406,"reachGoal","secondTel"),!0}))})),i(),window.addEventListener("resize",i);var g=new Inputmask("+7 (999) 999-99-99"),h=document.querySelectorAll(".validate-form-js"),b=new bootstrap.Modal("#requestModal",{keyboard:!0}),y=(new bootstrap.Modal("#gratitudeModal",{keyboard:!0}),new bootstrap.Modal("#priceModal",{keyboard:!0}));h.forEach((function(e){var t=e.querySelector("._form__btn.disable");t.addEventListener("click",(function(){return ym(93183406,"reachGoal","formid"),!0}));var r=e.querySelector('input[type="tel"]');g.mask(r),new JustValidate(e,{errorFieldCssClass:"is-invalid"}).addField(".validate-form-phone-js",[{validator:function(e){return 10===g.unmaskedvalue(e).length?(t.classList.contains("disable")&&t.hasAttribute("disabled")&&(t.removeAttribute("disabled"),t.classList.remove("disable")),!0):(t.classList.contains("disable")||t.hasAttribute("disabled")||(t.setAttribute("disabled",""),t.classList.add("disable")),!1)},errorMessage:"Введите номер телефона"},{rule:"required",errorMessage:"Обязательное поле"}]).onSuccess((function(e){t.classList.contains("disable")||t.hasAttribute("disabled")||(t.setAttribute("disabled",""),t.classList.add("disable")),new bootstrap.Modal("#gratitudeModal",{keyboard:!0});var r=new FormData(e.target),s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&200===s.status&&(b.hide(),y.hide(),console.log("Отправлено"),e.target.reset())},document.querySelector(".send-main-page.hidden")?(s.open("POST","mail.php",!0),s.send(r),location.replace("https://eko-yuga.ru/thanks-page")):document.querySelector(".send-secondary-page.hidden")&&(s.open("POST","../mail.php",!0),s.send(r),location.replace("https://eko-yuga.ru/thanks-page"))}))})),new Swiper(".stats__swiper",{slidesPerView:1,slidesPerGroup:1,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".stats__swiper-pagination",renderBullet:function(e,t){return'<button class="'+t+" stats__swiper-btn button stats__swiper-btn-"+(e+1)+'"></button>'},clickable:!0}}),new Swiper(".reviews-swiper",{direction:"horizontal",pagination:{el:".reviews-swiper-pagination",clickable:!0},navigation:{nextEl:".reviews-swiper-btn-next",prevEl:".reviews-swiper-btn-prev"}});var L=new Swiper(".city__swiper-small",{spaceBetween:10,slidesPerView:10,freeMode:!0,watchSlidesProgress:!0,breakpoints:{200:{slidesPerView:4},360:{slidesPerView:5},500:{slidesPerView:7},650:{slidesPerView:8},770:{slidesPerView:10}}}),S=(new Swiper(".city__swiper-big",{loop:!0,navigation:{nextEl:".city__swiper-big-btn-next",prevEl:".city__swiper-big-btn-prev"},thumbs:{swiper:L}}),new Swiper(".cars__swiper-small-1",{spaceBetween:10,slidesPerView:7,freeMode:!0,watchSlidesProgress:!0,breakpoints:{200:{slidesPerView:4},360:{slidesPerView:5},500:{slidesPerView:5},650:{slidesPerView:6},770:{slidesPerView:7}}})),_=(new Swiper(".cars__swiper-big-1",{loop:!0,navigation:{nextEl:".cars__swiper-big-btn-next",prevEl:".cars__swiper-big-btn-prev"},thumbs:{swiper:S}}),new Swiper(".cars__swiper-small-2",{spaceBetween:10,slidesPerView:7,freeMode:!0,watchSlidesProgress:!0,breakpoints:{200:{slidesPerView:4},360:{slidesPerView:5},500:{slidesPerView:5},650:{slidesPerView:6},770:{slidesPerView:7}}}));new Swiper(".cars__swiper-big-2",{loop:!0,navigation:{nextEl:".cars__swiper-big-btn-next",prevEl:".cars__swiper-big-btn-prev"},thumbs:{swiper:_}})}));