"use strict";

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
document.addEventListener("DOMContentLoaded", function () {
  /* открытие и закрытие бургера */
  var burger = document.querySelector('.header-nav-js');
  var burgerBtn = document.querySelector('.header-burger-js');
  burgerBtn.addEventListener('click', function () {
    this.classList.toggle('is-open');
  });
  function burgerClose() {
    if (burgerBtn.classList.contains('is-open')) {
      burgerBtn.classList.remove('is-open');
      burger.classList.remove('show');
    }
  }
  /* -------------------------------------------- */

  /* плавный скролл */
  function smoothScroll() {
    var anchors = document.querySelectorAll('.anchor-link');
    anchors.forEach(function (anchor) {
      anchor.addEventListener('click', function (event) {
        event.preventDefault();
        var blockID = anchor.getAttribute('href');
        var headerHeight = document.querySelector('.header__nav').offsetHeight;
        var y = document.querySelector('' + blockID).offsetTop - headerHeight;
        window.scrollTo(0, y);
        burgerClose();
      });
    });
  }

  /* -------------------------------------------- */

  /* счетчик скидки */
  var clocks = document.querySelectorAll('.counter-js');
  var deadline = new Date();
  // let yearsDifference = 1;
  // let monthsDifference = 1;
  // let dayDifference = 1;
  var hoursDifference = 1;
  var minutesDifference = 30;

  /* установки для счетчика */
  deadline.setHours(deadline.getHours() + hoursDifference);
  deadline.setMinutes(deadline.getMinutes() + minutesDifference);
  function getTimeRemaining(endtime) {
    var t = Date.parse(endtime) - Date.parse(new Date());
    var seconds = Math.floor(t / 1000 % 60);
    var minutes = Math.floor(t / 1000 / 60 % 60);
    var hours = Math.floor(t / (1000 * 60 * 60) % 24);
    var days = Math.floor(t / (1000 * 60 * 60 * 24));
    return {
      'total': t,
      'days': days,
      'hours': hours,
      'minutes': minutes,
      'seconds': seconds
    };
  }
  function initializeClock(selector, endtime) {
    var daysSpan = selector.querySelector('[data-counter-indicator="day"]');
    var hoursSpan = selector.querySelector('[data-counter-indicator="hour"]');
    var minutesSpan = selector.querySelector('[data-counter-indicator="minutes"]');
    var secondsSpan = selector.querySelector('[data-counter-indicator="seconds"]');
    function updateClock() {
      var t = getTimeRemaining(endtime);
      daysSpan.innerHTML = t.days;
      hoursSpan.innerHTML = t.hours;
      minutesSpan.innerHTML = t.minutes;
      secondsSpan.innerHTML = t.seconds;
      if (t.total <= 0) {
        clearInterval(timeinterval);
      }
    }
    updateClock();
    var timeinterval = setInterval(updateClock, 1000);
  }
  clocks.forEach(function (clock) {
    initializeClock(clock, deadline);
  });

  /* -------------------------------------------- */

  /* открытие селекта */
  var formSelect = document.querySelectorAll('._form__select');
  formSelect.forEach(function (select) {
    select.addEventListener('click', function () {
      select.classList.toggle('open');
    });
  });
  document.addEventListener('click', function (event) {
    if (!event.target.classList.contains('_form__select')) {
      formSelect.forEach(function (select) {
        if (select.classList.contains('open')) {
          select.classList.remove('open');
        }
      });
    }
  });

  /* -------------------------------------------- */

  /* ЗАПУСК ФУНКЦИЙ */
  smoothScroll();
  window.addEventListener('resize', smoothScroll);

  /* -------------------------------------------- */

  /* ИНИЦИАЛИЗАЦИЯ БИБЛИОТЕК */
  /* typed */
  var typed = new Typed('#typed', {
    stringsElement: '#typed-strings',
    typeSpeed: 150,
    backSpeed: 100,
    loop: true,
    loopCount: Infinity
  });

  /* reviews-swiper */
  var swiper = new Swiper('.reviews-swiper', {
    direction: 'horizontal',
    pagination: {
      el: '.reviews-swiper-pagination',
      clickable: true
    },
    navigation: {
      nextEl: '.reviews-swiper-btn-next',
      prevEl: '.reviews-swiper-btn-prev'
    }
  });

  /* iunput-mask, just-validate */
  var inputMask = new Inputmask('+7 (999) 999-99-99');
  var forms = document.querySelectorAll('.validate-form-js');
  forms.forEach(function (form) {
    // iunput-mask
    var inputTel = form.querySelector('input[type="tel"]');
    inputMask.mask(inputTel);

    /* --------- */

    // just-validate
    var validation = new JustValidate(form, {
      errorFieldCssClass: 'is-invalid'
    });
    var requestModal = new bootstrap.Modal('#requestModal', {
      keyboard: true
    });
    validation.addField('.validate-form-phone-js', [{
      validator: function validator(value) {
        var phone = inputMask.unmaskedvalue(value);
        if (phone.length === 10) {
          return true;
        } else return false;
      },
      errorMessage: 'Введите номер телефона'
    }, {
      rule: 'required',
      errorMessage: 'Обязательное поле'
    }])
    // TODO: переделать закрытие окна после прохождения валидации
    .onSuccess(function (event) {
      var _console;
      // const gratitudeModal = new bootstrap.Modal('#gratitudeModal', {
      //   keyboard: true
      // })
      // const requestModal = new bootstrap.Modal('#requestModal', {
      //   keyboard: true
      // });

      // requestModal.hide()

      // gratitudeModal.show(event.submitter);
      // gratitudeModal.show();

      var formData = new FormData(event.target);
      (_console = console).log.apply(_console, _toConsumableArray(formData));
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            requestModal.hide();
            var gratitudeModal = new bootstrap.Modal('#gratitudeModal', {
              keyboard: true
            });
            gratitudeModal.show();
            console.log('Отправлено');
          }
        }
      };
      xhr.open('POST', 'mail.php', true);
      xhr.send(formData);
      event.target.reset();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJidXJnZXIiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyQnRuIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiYnVyZ2VyQ2xvc2UiLCJjb250YWlucyIsInJlbW92ZSIsInNtb290aFNjcm9sbCIsImFuY2hvcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFuY2hvciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJibG9ja0lEIiwiZ2V0QXR0cmlidXRlIiwiaGVhZGVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwieSIsIm9mZnNldFRvcCIsIndpbmRvdyIsInNjcm9sbFRvIiwiY2xvY2tzIiwiZGVhZGxpbmUiLCJEYXRlIiwiaG91cnNEaWZmZXJlbmNlIiwibWludXRlc0RpZmZlcmVuY2UiLCJzZXRIb3VycyIsImdldEhvdXJzIiwic2V0TWludXRlcyIsImdldE1pbnV0ZXMiLCJnZXRUaW1lUmVtYWluaW5nIiwiZW5kdGltZSIsInQiLCJwYXJzZSIsInNlY29uZHMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwiaG91cnMiLCJkYXlzIiwiaW5pdGlhbGl6ZUNsb2NrIiwic2VsZWN0b3IiLCJkYXlzU3BhbiIsImhvdXJzU3BhbiIsIm1pbnV0ZXNTcGFuIiwic2Vjb25kc1NwYW4iLCJ1cGRhdGVDbG9jayIsImlubmVySFRNTCIsInRvdGFsIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xvY2siLCJmb3JtU2VsZWN0Iiwic2VsZWN0IiwidGFyZ2V0IiwidHlwZWQiLCJUeXBlZCIsInN0cmluZ3NFbGVtZW50IiwidHlwZVNwZWVkIiwiYmFja1NwZWVkIiwibG9vcCIsImxvb3BDb3VudCIsIkluZmluaXR5Iiwic3dpcGVyIiwiU3dpcGVyIiwiZGlyZWN0aW9uIiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImlucHV0TWFzayIsIklucHV0bWFzayIsImZvcm1zIiwiZm9ybSIsImlucHV0VGVsIiwibWFzayIsInZhbGlkYXRpb24iLCJKdXN0VmFsaWRhdGUiLCJlcnJvckZpZWxkQ3NzQ2xhc3MiLCJyZXF1ZXN0TW9kYWwiLCJib290c3RyYXAiLCJNb2RhbCIsImtleWJvYXJkIiwiYWRkRmllbGQiLCJ2YWxpZGF0b3IiLCJ2YWx1ZSIsInBob25lIiwidW5tYXNrZWR2YWx1ZSIsImxlbmd0aCIsImVycm9yTWVzc2FnZSIsInJ1bGUiLCJvblN1Y2Nlc3MiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiY29uc29sZSIsImxvZyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImhpZGUiLCJncmF0aXR1ZGVNb2RhbCIsInNob3ciLCJvcGVuIiwic2VuZCIsInJlc2V0Il0sInNvdXJjZXMiOlsibWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgLyog0L7RgtC60YDRi9GC0LjQtSDQuCDQt9Cw0LrRgNGL0YLQuNC1INCx0YPRgNCz0LXRgNCwICovXHJcbiAgY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1uYXYtanMnKTtcclxuICBjb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLWJ1cmdlci1qcycpO1xyXG4gIGJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdpcy1vcGVuJylcclxuICB9KVxyXG5cclxuICBmdW5jdGlvbiBidXJnZXJDbG9zZSgpIHtcclxuICAgIGlmIChidXJnZXJCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1vcGVuJykpIHtcclxuICAgICAgYnVyZ2VyQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcclxuICAgICAgYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG4gICAgfVxyXG4gIH1cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbiAgLyog0L/Qu9Cw0LLQvdGL0Lkg0YHQutGA0L7Qu9C7ICovXHJcbiAgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKCkge1xyXG4gICAgY29uc3QgYW5jaG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmNob3ItbGluaycpO1xyXG5cclxuICAgIGFuY2hvcnMuZm9yRWFjaChhbmNob3IgPT4ge1xyXG4gICAgICBhbmNob3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmxvY2tJRCA9IGFuY2hvci5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcclxuICAgICAgICBsZXQgaGVhZGVySGVpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbmF2Jykub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIGxldCB5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignJyArIGJsb2NrSUQpLm9mZnNldFRvcCAtIGhlYWRlckhlaWdodDtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgeSk7XHJcblxyXG4gICAgICAgIGJ1cmdlckNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuICAvKiDRgdGH0LXRgtGH0LjQuiDRgdC60LjQtNC60LggKi9cclxuICBjb25zdCBjbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY291bnRlci1qcycpO1xyXG4gIGNvbnN0IGRlYWRsaW5lID0gbmV3IERhdGUoKTtcclxuICAvLyBsZXQgeWVhcnNEaWZmZXJlbmNlID0gMTtcclxuICAvLyBsZXQgbW9udGhzRGlmZmVyZW5jZSA9IDE7XHJcbiAgLy8gbGV0IGRheURpZmZlcmVuY2UgPSAxO1xyXG4gIGxldCBob3Vyc0RpZmZlcmVuY2UgPSAxO1xyXG4gIGxldCBtaW51dGVzRGlmZmVyZW5jZSA9IDMwO1xyXG5cclxuICAgIC8qINGD0YHRgtCw0L3QvtCy0LrQuCDQtNC70Y8g0YHRh9C10YLRh9C40LrQsCAqL1xyXG4gIGRlYWRsaW5lLnNldEhvdXJzKGRlYWRsaW5lLmdldEhvdXJzKCkgKyBob3Vyc0RpZmZlcmVuY2UpXHJcbiAgZGVhZGxpbmUuc2V0TWludXRlcyhkZWFkbGluZS5nZXRNaW51dGVzKCkgKyBtaW51dGVzRGlmZmVyZW5jZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGdldFRpbWVSZW1haW5pbmcoZW5kdGltZSl7XHJcbiAgICBjb25zdCB0ID0gRGF0ZS5wYXJzZShlbmR0aW1lKSAtIERhdGUucGFyc2UobmV3IERhdGUoKSk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vciggKHQvMTAwMCkgJSA2MCApO1xyXG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoICh0LzEwMDAvNjApICUgNjAgKTtcclxuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vciggKHQvKDEwMDAqNjAqNjApKSAlIDI0ICk7XHJcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vciggdC8oMTAwMCo2MCo2MCoyNCkgKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICd0b3RhbCc6IHQsXHJcbiAgICAgICdkYXlzJzogZGF5cyxcclxuICAgICAgJ2hvdXJzJzogaG91cnMsXHJcbiAgICAgICdtaW51dGVzJzogbWludXRlcyxcclxuICAgICAgJ3NlY29uZHMnOiBzZWNvbmRzXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZUNsb2NrKHNlbGVjdG9yLCBlbmR0aW1lKXtcclxuICAgIGNvbnN0IGRheXNTcGFuID0gc2VsZWN0b3IucXVlcnlTZWxlY3RvcignW2RhdGEtY291bnRlci1pbmRpY2F0b3I9XCJkYXlcIl0nKTtcclxuICAgIGNvbnN0IGhvdXJzU3BhbiA9IHNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvdW50ZXItaW5kaWNhdG9yPVwiaG91clwiXScpO1xyXG4gICAgY29uc3QgbWludXRlc1NwYW4gPSBzZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3VudGVyLWluZGljYXRvcj1cIm1pbnV0ZXNcIl0nKTtcclxuICAgIGNvbnN0IHNlY29uZHNTcGFuID0gc2VsZWN0b3IucXVlcnlTZWxlY3RvcignW2RhdGEtY291bnRlci1pbmRpY2F0b3I9XCJzZWNvbmRzXCJdJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2xvY2soKXtcclxuICAgICAgY29uc3QgdCA9IGdldFRpbWVSZW1haW5pbmcoZW5kdGltZSk7XHJcbiAgICAgIGRheXNTcGFuLmlubmVySFRNTCA9IHQuZGF5cztcclxuICAgICAgaG91cnNTcGFuLmlubmVySFRNTCA9IHQuaG91cnM7XHJcbiAgICAgIG1pbnV0ZXNTcGFuLmlubmVySFRNTCA9IHQubWludXRlcztcclxuICAgICAgc2Vjb25kc1NwYW4uaW5uZXJIVE1MID0gdC5zZWNvbmRzO1xyXG5cclxuICAgICAgaWYgKHQudG90YWwgPD0gMCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZWludGVydmFsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlQ2xvY2soKTtcclxuICAgIGNvbnN0IHRpbWVpbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZUNsb2NrLDEwMDApO1xyXG4gIH1cclxuXHJcbiAgY2xvY2tzLmZvckVhY2goY2xvY2sgPT4ge1xyXG4gICAgaW5pdGlhbGl6ZUNsb2NrKGNsb2NrLCBkZWFkbGluZSk7XHJcbiAgfSlcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4gIC8qINC+0YLQutGA0YvRgtC40LUg0YHQtdC70LXQutGC0LAgKi9cclxuICBjb25zdCBmb3JtU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLl9mb3JtX19zZWxlY3QnKTtcclxuXHJcbiAgZm9ybVNlbGVjdC5mb3JFYWNoKHNlbGVjdCA9PiB7XHJcbiAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHNlbGVjdC5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJylcclxuICAgIH0pXHJcbiAgfSlcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgaWYgKCFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdfZm9ybV9fc2VsZWN0JykpIHtcclxuICAgICAgZm9ybVNlbGVjdC5mb3JFYWNoKHNlbGVjdCA9PiB7XHJcbiAgICAgICAgaWYoc2VsZWN0LmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpKSB7XHJcbiAgICAgICAgICBzZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuICAvKiDQl9CQ0J/Qo9Ch0Jog0KTQo9Cd0JrQptCY0JkgKi9cclxuICBzbW9vdGhTY3JvbGwoKTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc21vb3RoU2Nyb2xsKTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4gIC8qINCY0J3QmNCm0JjQkNCb0JjQl9CQ0KbQmNCvINCR0JjQkdCb0JjQntCi0JXQmiAqL1xyXG4gICAgLyogdHlwZWQgKi9cclxuICBjb25zdCB0eXBlZCA9IG5ldyBUeXBlZCgnI3R5cGVkJywge1xyXG4gICAgc3RyaW5nc0VsZW1lbnQ6ICcjdHlwZWQtc3RyaW5ncycsXHJcbiAgICB0eXBlU3BlZWQ6IDE1MCxcclxuICAgIGJhY2tTcGVlZDogMTAwLFxyXG4gICAgbG9vcDogdHJ1ZSxcclxuICAgIGxvb3BDb3VudDogSW5maW5pdHksXHJcbiAgfSk7XHJcblxyXG4gICAgLyogcmV2aWV3cy1zd2lwZXIgKi9cclxuICBjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKCcucmV2aWV3cy1zd2lwZXInLCB7XHJcbiAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuXHJcbiAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgIGVsOiAnLnJldmlld3Mtc3dpcGVyLXBhZ2luYXRpb24nLFxyXG4gICAgICBjbGlja2FibGU6IHRydWUsXHJcbiAgICB9LFxyXG5cclxuICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgbmV4dEVsOiAnLnJldmlld3Mtc3dpcGVyLWJ0bi1uZXh0JyxcclxuICAgICAgcHJldkVsOiAnLnJldmlld3Mtc3dpcGVyLWJ0bi1wcmV2JyxcclxuICAgIH0sXHJcblxyXG4gIH0pO1xyXG5cclxuICAgIC8qIGl1bnB1dC1tYXNrLCBqdXN0LXZhbGlkYXRlICovXHJcbiAgY29uc3QgaW5wdXRNYXNrID0gbmV3IElucHV0bWFzaygnKzcgKDk5OSkgOTk5LTk5LTk5Jyk7XHJcbiAgY29uc3QgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudmFsaWRhdGUtZm9ybS1qcycpO1xyXG5cclxuICBmb3Jtcy5mb3JFYWNoKGZvcm0gPT4ge1xyXG4gICAgLy8gaXVucHV0LW1hc2tcclxuICAgIGNvbnN0IGlucHV0VGVsID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwidGVsXCJdJyk7XHJcblxyXG4gICAgaW5wdXRNYXNrLm1hc2soaW5wdXRUZWwpO1xyXG5cclxuICAgIC8qIC0tLS0tLS0tLSAqL1xyXG5cclxuICAgIC8vIGp1c3QtdmFsaWRhdGVcclxuICAgIGNvbnN0IHZhbGlkYXRpb24gPSBuZXcgSnVzdFZhbGlkYXRlKGZvcm0sIHtcclxuICAgICAgZXJyb3JGaWVsZENzc0NsYXNzOiAnaXMtaW52YWxpZCcsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHJlcXVlc3RNb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwoJyNyZXF1ZXN0TW9kYWwnLCB7XHJcbiAgICAgIGtleWJvYXJkOiB0cnVlXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YWxpZGF0aW9uXHJcbiAgICAuYWRkRmllbGQoJy52YWxpZGF0ZS1mb3JtLXBob25lLWpzJywgW1xyXG4gICAgICB7XHJcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpPT57XHJcbiAgICAgICAgICBsZXQgcGhvbmUgPSBpbnB1dE1hc2sudW5tYXNrZWR2YWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgICBpZiAocGhvbmUubGVuZ3RoID09PSAxMCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAn0JLQstC10LTQuNGC0LUg0L3QvtC80LXRgCDRgtC10LvQtdGE0L7QvdCwJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHJ1bGU6ICdyZXF1aXJlZCcsXHJcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAn0J7QsdGP0LfQsNGC0LXQu9GM0L3QvtC1INC/0L7Qu9C1JyxcclxuICAgICAgfSxcclxuICAgIF0pXHJcbiAgICAvLyBUT0RPOiDQv9C10YDQtdC00LXQu9Cw0YLRjCDQt9Cw0LrRgNGL0YLQuNC1INC+0LrQvdCwINC/0L7RgdC70LUg0L/RgNC+0YXQvtC20LTQtdC90LjRjyDQstCw0LvQuNC00LDRhtC40LhcclxuICAgIC5vblN1Y2Nlc3MoKGV2ZW50KSA9PiB7XHJcbiAgICAgIC8vIGNvbnN0IGdyYXRpdHVkZU1vZGFsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbCgnI2dyYXRpdHVkZU1vZGFsJywge1xyXG4gICAgICAvLyAgIGtleWJvYXJkOiB0cnVlXHJcbiAgICAgIC8vIH0pXHJcbiAgICAgIC8vIGNvbnN0IHJlcXVlc3RNb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwoJyNyZXF1ZXN0TW9kYWwnLCB7XHJcbiAgICAgIC8vICAga2V5Ym9hcmQ6IHRydWVcclxuICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAvLyByZXF1ZXN0TW9kYWwuaGlkZSgpXHJcblxyXG4gICAgICAvLyBncmF0aXR1ZGVNb2RhbC5zaG93KGV2ZW50LnN1Ym1pdHRlcik7XHJcbiAgICAgIC8vIGdyYXRpdHVkZU1vZGFsLnNob3coKTtcclxuXHJcblxyXG4gICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZXZlbnQudGFyZ2V0KTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKC4uLmZvcm1EYXRhKTtcclxuXHJcbiAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcblxyXG4gICAgICAgICAgICByZXF1ZXN0TW9kYWwuaGlkZSgpXHJcblxyXG4gICAgICAgICAgICBjb25zdCBncmF0aXR1ZGVNb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwoJyNncmF0aXR1ZGVNb2RhbCcsIHtcclxuICAgICAgICAgICAgICBrZXlib2FyZDogdHJ1ZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBncmF0aXR1ZGVNb2RhbC5zaG93KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGC0L/RgNCw0LLQu9C10L3QvicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgeGhyLm9wZW4oJ1BPU1QnLCAnbWFpbC5waHAnLCB0cnVlKTtcclxuICAgICAgeGhyLnNlbmQoZm9ybURhdGEpO1xyXG5cclxuICAgICAgZXZlbnQudGFyZ2V0LnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9KVxyXG59KTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUFBLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsWUFBWTtFQUN4RDtFQUNBLElBQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7RUFDdkQsSUFBTUMsU0FBUyxHQUFHSixRQUFRLENBQUNHLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQztFQUM3REMsU0FBUyxDQUFDSCxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBVztJQUM3QyxJQUFJLENBQUNJLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFNBQVMsQ0FBQztFQUNsQyxDQUFDLENBQUM7RUFFRixTQUFTQyxXQUFXLEdBQUc7SUFDckIsSUFBSUgsU0FBUyxDQUFDQyxTQUFTLENBQUNHLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRTtNQUMzQ0osU0FBUyxDQUFDQyxTQUFTLENBQUNJLE1BQU0sQ0FBQyxTQUFTLENBQUM7TUFDckNQLE1BQU0sQ0FBQ0csU0FBUyxDQUFDSSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2pDO0VBQ0Y7RUFDRjs7RUFFRTtFQUNBLFNBQVNDLFlBQVksR0FBRztJQUN0QixJQUFNQyxPQUFPLEdBQUdYLFFBQVEsQ0FBQ1ksZ0JBQWdCLENBQUMsY0FBYyxDQUFDO0lBRXpERCxPQUFPLENBQUNFLE9BQU8sQ0FBQyxVQUFBQyxNQUFNLEVBQUk7TUFDeEJBLE1BQU0sQ0FBQ2IsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNjLEtBQUssRUFBQztRQUM5Q0EsS0FBSyxDQUFDQyxj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
