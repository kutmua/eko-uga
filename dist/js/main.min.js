"use strict";

document.addEventListener("DOMContentLoaded", function () {
  /* открытие и закрытие бургера */
  var burger = document.querySelector('.header-nav-js');
  var burgerBtn = document.querySelector('.header-burger-js');
  burgerBtn.addEventListener('click', function () {
    this.classList.toggle('is-open');
  });
  function burgerClose() {
    if (burgerBtn.classList.contains('is-open')) {
      burgerBtn.classList.remove('is-open');
      burger.classList.remove('show');
    }
  }
  /* -------------------------------------------- */

  /* плавный скролл */
  function smoothScroll() {
    var anchors = document.querySelectorAll('.anchor-link');
    anchors.forEach(function (anchor) {
      anchor.addEventListener('click', function (event) {
        event.preventDefault();
        var blockID = anchor.getAttribute('href');
        var headerHeight = document.querySelector('.header__nav').offsetHeight;
        var y = document.querySelector('' + blockID).offsetTop - headerHeight;
        window.scrollTo(0, y);
        burgerClose();
      });
    });
  }

  /* -------------------------------------------- */

  /* счетчик скидки */
  var clocks = document.querySelectorAll('.counter-js');
  var deadline = new Date();
  // let yearsDifference = 1;
  // let monthsDifference = 1;
  // let dayDifference = 1;
  var hoursDifference = 1;
  var minutesDifference = 30;

  /* установки для счетчика */
  deadline.setHours(deadline.getHours() + hoursDifference);
  deadline.setMinutes(deadline.getMinutes() + minutesDifference);
  function getTimeRemaining(endtime) {
    var t = Date.parse(endtime) - Date.parse(new Date());
    var seconds = Math.floor(t / 1000 % 60);
    var minutes = Math.floor(t / 1000 / 60 % 60);
    var hours = Math.floor(t / (1000 * 60 * 60) % 24);
    var days = Math.floor(t / (1000 * 60 * 60 * 24));
    return {
      'total': t,
      'days': days,
      'hours': hours,
      'minutes': minutes,
      'seconds': seconds
    };
  }
  function initializeClock(selector, endtime) {
    var daysSpan = selector.querySelector('[data-counter-indicator="day"]');
    var hoursSpan = selector.querySelector('[data-counter-indicator="hour"]');
    var minutesSpan = selector.querySelector('[data-counter-indicator="minutes"]');
    var secondsSpan = selector.querySelector('[data-counter-indicator="seconds"]');
    function updateClock() {
      var t = getTimeRemaining(endtime);
      daysSpan.innerHTML = t.days;
      hoursSpan.innerHTML = t.hours;
      minutesSpan.innerHTML = t.minutes;
      secondsSpan.innerHTML = t.seconds;
      if (t.total <= 0) {
        clearInterval(timeinterval);
      }
    }
    updateClock();
    var timeinterval = setInterval(updateClock, 1000);
  }
  clocks.forEach(function (clock) {
    initializeClock(clock, deadline);
  });

  /* -------------------------------------------- */

  /* открытие селекта */
  var formSelect = document.querySelectorAll('._form__select');
  formSelect.forEach(function (select) {
    select.addEventListener('click', function () {
      select.classList.toggle('open');
    });
  });
  document.addEventListener('click', function (event) {
    if (!event.target.classList.contains('_form__select')) {
      formSelect.forEach(function (select) {
        if (select.classList.contains('open')) {
          select.classList.remove('open');
        }
      });
    }
  });

  /* -------------------------------------------- */

  /* ЗАПУСК ФУНКЦИЙ */
  smoothScroll();
  window.addEventListener('resize', smoothScroll);

  /* -------------------------------------------- */

  /* ИНИЦИАЛИЗАЦИЯ БИБЛИОТЕК */
  /* typed */
  var typed = new Typed('#typed', {
    stringsElement: '#typed-strings',
    typeSpeed: 150,
    backSpeed: 100,
    loop: true,
    loopCount: Infinity
  });

  /* reviews-swiper */
  var swiper = new Swiper('.reviews-swiper', {
    direction: 'horizontal',
    pagination: {
      el: '.reviews-swiper-pagination',
      clickable: true
    },
    navigation: {
      nextEl: '.reviews-swiper-btn-next',
      prevEl: '.reviews-swiper-btn-prev'
    }
  });

  /* iunput-mask, just-validate */
  var inputMask = new Inputmask('+7 (999) 999-99-99');
  var forms = document.querySelectorAll('.validate-form-js');
  forms.forEach(function (form) {
    // iunput-mask
    var inputTel = form.querySelector('input[type="tel"]');
    inputMask.mask(inputTel);

    /* --------- */

    // just-validate
    var validation = new JustValidate(form, {
      errorFieldCssClass: 'is-invalid'
    });
    var requestModal = new bootstrap.Modal('#requestModal', {
      keyboard: true
    });
    validation.addField('.validate-form-phone-js', [{
      validator: function validator(value) {
        var phone = inputMask.unmaskedvalue(value);
        if (phone.length === 10) {
          return true;
        } else return false;
      },
      errorMessage: 'Введите номер телефона'
    }, {
      rule: 'required',
      errorMessage: 'Обязательное поле'
    }]).onSuccess(function (event) {
      var gratitudeModal = new bootstrap.Modal('#gratitudeModal', {
        keyboard: true
      });
      requestModal.hide();
      gratitudeModal.show(event.submitter);
      setTimeout(function () {
        event.path[0][0].value = '';
        event.path[0][1].value = '';
      }, 500);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJidXJnZXIiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyQnRuIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiYnVyZ2VyQ2xvc2UiLCJjb250YWlucyIsInJlbW92ZSIsInNtb290aFNjcm9sbCIsImFuY2hvcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFuY2hvciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJibG9ja0lEIiwiZ2V0QXR0cmlidXRlIiwiaGVhZGVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwieSIsIm9mZnNldFRvcCIsIndpbmRvdyIsInNjcm9sbFRvIiwiY2xvY2tzIiwiZGVhZGxpbmUiLCJEYXRlIiwiaG91cnNEaWZmZXJlbmNlIiwibWludXRlc0RpZmZlcmVuY2UiLCJzZXRIb3VycyIsImdldEhvdXJzIiwic2V0TWludXRlcyIsImdldE1pbnV0ZXMiLCJnZXRUaW1lUmVtYWluaW5nIiwiZW5kdGltZSIsInQiLCJwYXJzZSIsInNlY29uZHMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwiaG91cnMiLCJkYXlzIiwiaW5pdGlhbGl6ZUNsb2NrIiwic2VsZWN0b3IiLCJkYXlzU3BhbiIsImhvdXJzU3BhbiIsIm1pbnV0ZXNTcGFuIiwic2Vjb25kc1NwYW4iLCJ1cGRhdGVDbG9jayIsImlubmVySFRNTCIsInRvdGFsIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xvY2siLCJmb3JtU2VsZWN0Iiwic2VsZWN0IiwidGFyZ2V0IiwidHlwZWQiLCJUeXBlZCIsInN0cmluZ3NFbGVtZW50IiwidHlwZVNwZWVkIiwiYmFja1NwZWVkIiwibG9vcCIsImxvb3BDb3VudCIsIkluZmluaXR5Iiwic3dpcGVyIiwiU3dpcGVyIiwiZGlyZWN0aW9uIiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImlucHV0TWFzayIsIklucHV0bWFzayIsImZvcm1zIiwiZm9ybSIsImlucHV0VGVsIiwibWFzayIsInZhbGlkYXRpb24iLCJKdXN0VmFsaWRhdGUiLCJlcnJvckZpZWxkQ3NzQ2xhc3MiLCJyZXF1ZXN0TW9kYWwiLCJib290c3RyYXAiLCJNb2RhbCIsImtleWJvYXJkIiwiYWRkRmllbGQiLCJ2YWxpZGF0b3IiLCJ2YWx1ZSIsInBob25lIiwidW5tYXNrZWR2YWx1ZSIsImxlbmd0aCIsImVycm9yTWVzc2FnZSIsInJ1bGUiLCJvblN1Y2Nlc3MiLCJncmF0aXR1ZGVNb2RhbCIsImhpZGUiLCJzaG93Iiwic3VibWl0dGVyIiwic2V0VGltZW91dCIsInBhdGgiXSwic291cmNlcyI6WyJtYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uICgpIHtcclxuICAvKiDQvtGC0LrRgNGL0YLQuNC1INC4INC30LDQutGA0YvRgtC40LUg0LHRg9GA0LPQtdGA0LAgKi9cclxuICBjb25zdCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW5hdi1qcycpO1xyXG4gIGNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItYnVyZ2VyLWpzJyk7XHJcbiAgYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2lzLW9wZW4nKVxyXG4gIH0pXHJcblxyXG4gIGZ1bmN0aW9uIGJ1cmdlckNsb3NlKCkge1xyXG4gICAgaWYgKGJ1cmdlckJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLW9wZW4nKSkge1xyXG4gICAgICBidXJnZXJCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xyXG4gICAgICBidXJnZXIuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICB9XHJcbiAgfVxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuICAvKiDQv9C70LDQstC90YvQuSDRgdC60YDQvtC70LsgKi9cclxuICBmdW5jdGlvbiBzbW9vdGhTY3JvbGwoKSB7XHJcbiAgICBjb25zdCBhbmNob3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFuY2hvci1saW5rJyk7XHJcblxyXG4gICAgYW5jaG9ycy5mb3JFYWNoKGFuY2hvciA9PiB7XHJcbiAgICAgIGFuY2hvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBjb25zdCBibG9ja0lEID0gYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xyXG4gICAgICAgIGxldCBoZWFkZXJIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19uYXYnKS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgbGV0IHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcnICsgYmxvY2tJRCkub2Zmc2V0VG9wIC0gaGVhZGVySGVpZ2h0O1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCB5KTtcclxuXHJcbiAgICAgICAgYnVyZ2VyQ2xvc2UoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4gIC8qINGB0YfQtdGC0YfQuNC6INGB0LrQuNC00LrQuCAqL1xyXG4gIGNvbnN0IGNsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb3VudGVyLWpzJyk7XHJcbiAgY29uc3QgZGVhZGxpbmUgPSBuZXcgRGF0ZSgpO1xyXG4gIC8vIGxldCB5ZWFyc0RpZmZlcmVuY2UgPSAxO1xyXG4gIC8vIGxldCBtb250aHNEaWZmZXJlbmNlID0gMTtcclxuICAvLyBsZXQgZGF5RGlmZmVyZW5jZSA9IDE7XHJcbiAgbGV0IGhvdXJzRGlmZmVyZW5jZSA9IDE7XHJcbiAgbGV0IG1pbnV0ZXNEaWZmZXJlbmNlID0gMzA7XHJcblxyXG4gICAgLyog0YPRgdGC0LDQvdC+0LLQutC4INC00LvRjyDRgdGH0LXRgtGH0LjQutCwICovXHJcbiAgZGVhZGxpbmUuc2V0SG91cnMoZGVhZGxpbmUuZ2V0SG91cnMoKSArIGhvdXJzRGlmZmVyZW5jZSlcclxuICBkZWFkbGluZS5zZXRNaW51dGVzKGRlYWRsaW5lLmdldE1pbnV0ZXMoKSArIG1pbnV0ZXNEaWZmZXJlbmNlKTtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0VGltZVJlbWFpbmluZyhlbmR0aW1lKXtcclxuICAgIGNvbnN0IHQgPSBEYXRlLnBhcnNlKGVuZHRpbWUpIC0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTtcclxuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKCAodC8xMDAwKSAlIDYwICk7XHJcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vciggKHQvMTAwMC82MCkgJSA2MCApO1xyXG4gICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKCAodC8oMTAwMCo2MCo2MCkpICUgMjQgKTtcclxuICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKCB0LygxMDAwKjYwKjYwKjI0KSApO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgJ3RvdGFsJzogdCxcclxuICAgICAgJ2RheXMnOiBkYXlzLFxyXG4gICAgICAnaG91cnMnOiBob3VycyxcclxuICAgICAgJ21pbnV0ZXMnOiBtaW51dGVzLFxyXG4gICAgICAnc2Vjb25kcyc6IHNlY29uZHNcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpbml0aWFsaXplQ2xvY2soc2VsZWN0b3IsIGVuZHRpbWUpe1xyXG4gICAgY29uc3QgZGF5c1NwYW4gPSBzZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3VudGVyLWluZGljYXRvcj1cImRheVwiXScpO1xyXG4gICAgY29uc3QgaG91cnNTcGFuID0gc2VsZWN0b3IucXVlcnlTZWxlY3RvcignW2RhdGEtY291bnRlci1pbmRpY2F0b3I9XCJob3VyXCJdJyk7XHJcbiAgICBjb25zdCBtaW51dGVzU3BhbiA9IHNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvdW50ZXItaW5kaWNhdG9yPVwibWludXRlc1wiXScpO1xyXG4gICAgY29uc3Qgc2Vjb25kc1NwYW4gPSBzZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3VudGVyLWluZGljYXRvcj1cInNlY29uZHNcIl0nKTtcclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVDbG9jaygpe1xyXG4gICAgICBjb25zdCB0ID0gZ2V0VGltZVJlbWFpbmluZyhlbmR0aW1lKTtcclxuICAgICAgZGF5c1NwYW4uaW5uZXJIVE1MID0gdC5kYXlzO1xyXG4gICAgICBob3Vyc1NwYW4uaW5uZXJIVE1MID0gdC5ob3VycztcclxuICAgICAgbWludXRlc1NwYW4uaW5uZXJIVE1MID0gdC5taW51dGVzO1xyXG4gICAgICBzZWNvbmRzU3Bhbi5pbm5lckhUTUwgPSB0LnNlY29uZHM7XHJcblxyXG4gICAgICBpZiAodC50b3RhbCA8PSAwKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1laW50ZXJ2YWwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGVDbG9jaygpO1xyXG4gICAgY29uc3QgdGltZWludGVydmFsID0gc2V0SW50ZXJ2YWwodXBkYXRlQ2xvY2ssMTAwMCk7XHJcbiAgfVxyXG5cclxuICBjbG9ja3MuZm9yRWFjaChjbG9jayA9PiB7XHJcbiAgICBpbml0aWFsaXplQ2xvY2soY2xvY2ssIGRlYWRsaW5lKTtcclxuICB9KVxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbiAgLyog0L7RgtC60YDRi9GC0LjQtSDRgdC10LvQtdC60YLQsCAqL1xyXG4gIGNvbnN0IGZvcm1TZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuX2Zvcm1fX3NlbGVjdCcpO1xyXG5cclxuICBmb3JtU2VsZWN0LmZvckVhY2goc2VsZWN0ID0+IHtcclxuICAgIHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgc2VsZWN0LmNsYXNzTGlzdC50b2dnbGUoJ29wZW4nKVxyXG4gICAgfSlcclxuICB9KVxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ19mb3JtX19zZWxlY3QnKSkge1xyXG4gICAgICBmb3JtU2VsZWN0LmZvckVhY2goc2VsZWN0ID0+IHtcclxuICAgICAgICBpZihzZWxlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHtcclxuICAgICAgICAgIHNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJylcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4gIC8qINCX0JDQn9Cj0KHQmiDQpNCj0J3QmtCm0JjQmSAqL1xyXG4gIHNtb290aFNjcm9sbCgpO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLHNtb290aFNjcm9sbCk7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuICAvKiDQmNCd0JjQptCY0JDQm9CY0JfQkNCm0JjQryDQkdCY0JHQm9CY0J7QotCV0JogKi9cclxuICAgIC8qIHR5cGVkICovXHJcbiAgY29uc3QgdHlwZWQgPSBuZXcgVHlwZWQoJyN0eXBlZCcsIHtcclxuICAgIHN0cmluZ3NFbGVtZW50OiAnI3R5cGVkLXN0cmluZ3MnLFxyXG4gICAgdHlwZVNwZWVkOiAxNTAsXHJcbiAgICBiYWNrU3BlZWQ6IDEwMCxcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICBsb29wQ291bnQ6IEluZmluaXR5LFxyXG4gIH0pO1xyXG5cclxuICAgIC8qIHJldmlld3Mtc3dpcGVyICovXHJcbiAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLnJldmlld3Mtc3dpcGVyJywge1xyXG4gICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcblxyXG4gICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICBlbDogJy5yZXZpZXdzLXN3aXBlci1wYWdpbmF0aW9uJyxcclxuICAgICAgY2xpY2thYmxlOiB0cnVlLFxyXG4gICAgfSxcclxuXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogJy5yZXZpZXdzLXN3aXBlci1idG4tbmV4dCcsXHJcbiAgICAgIHByZXZFbDogJy5yZXZpZXdzLXN3aXBlci1idG4tcHJldicsXHJcbiAgICB9LFxyXG5cclxuICB9KTtcclxuXHJcbiAgICAvKiBpdW5wdXQtbWFzaywganVzdC12YWxpZGF0ZSAqL1xyXG4gIGNvbnN0IGlucHV0TWFzayA9IG5ldyBJbnB1dG1hc2soJys3ICg5OTkpIDk5OS05OS05OScpO1xyXG4gIGNvbnN0IGZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZhbGlkYXRlLWZvcm0tanMnKTtcclxuXHJcbiAgZm9ybXMuZm9yRWFjaChmb3JtID0+IHtcclxuICAgIC8vIGl1bnB1dC1tYXNrXHJcbiAgICBjb25zdCBpbnB1dFRlbCA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInRlbFwiXScpO1xyXG5cclxuICAgIGlucHV0TWFzay5tYXNrKGlucHV0VGVsKTtcclxuXHJcbiAgICAvKiAtLS0tLS0tLS0gKi9cclxuXHJcbiAgICAvLyBqdXN0LXZhbGlkYXRlXHJcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gbmV3IEp1c3RWYWxpZGF0ZShmb3JtLCB7XHJcbiAgICAgIGVycm9yRmllbGRDc3NDbGFzczogJ2lzLWludmFsaWQnLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCByZXF1ZXN0TW9kYWwgPSBuZXcgYm9vdHN0cmFwLk1vZGFsKCcjcmVxdWVzdE1vZGFsJywge1xyXG4gICAgICBrZXlib2FyZDogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFsaWRhdGlvblxyXG4gICAgLmFkZEZpZWxkKCcudmFsaWRhdGUtZm9ybS1waG9uZS1qcycsIFtcclxuICAgICAge1xyXG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlKT0+e1xyXG4gICAgICAgICAgbGV0IHBob25lID0gaW5wdXRNYXNrLnVubWFza2VkdmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgaWYgKHBob25lLmxlbmd0aCA9PT0gMTApe1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSByZXR1cm4gZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yTWVzc2FnZTogJ9CS0LLQtdC00LjRgtC1INC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsCcsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBydWxlOiAncmVxdWlyZWQnLFxyXG4gICAgICAgIGVycm9yTWVzc2FnZTogJ9Ce0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtScsXHJcbiAgICAgIH0sXHJcbiAgICBdKVxyXG4gICAgLm9uU3VjY2VzcygoZXZlbnQpID0+IHtcclxuICAgICAgY29uc3QgZ3JhdGl0dWRlTW9kYWwgPSBuZXcgYm9vdHN0cmFwLk1vZGFsKCcjZ3JhdGl0dWRlTW9kYWwnLCB7XHJcbiAgICAgICAga2V5Ym9hcmQ6IHRydWVcclxuICAgICAgfSlcclxuICAgICAgcmVxdWVzdE1vZGFsLmhpZGUoKTtcclxuICAgICAgZ3JhdGl0dWRlTW9kYWwuc2hvdyhldmVudC5zdWJtaXR0ZXIpO1xyXG5cclxuICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgIGV2ZW50LnBhdGhbMF1bMF0udmFsdWUgPSAnJztcclxuICAgICAgICBldmVudC5wYXRoWzBdWzFdLnZhbHVlID0gJyc7XHJcbiAgICAgIH0sIDUwMCk7XHJcbiAgICB9KTtcclxuICB9KVxyXG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUFBLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsWUFBWTtFQUN4RDtFQUNBLElBQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7RUFDdkQsSUFBTUMsU0FBUyxHQUFHSixRQUFRLENBQUNHLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQztFQUM3REMsU0FBUyxDQUFDSCxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBVztJQUM3QyxJQUFJLENBQUNJLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFNBQVMsQ0FBQztFQUNsQyxDQUFDLENBQUM7RUFFRixTQUFTQyxXQUFXLEdBQUc7SUFDckIsSUFBSUgsU0FBUyxDQUFDQyxTQUFTLENBQUNHLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRTtNQUMzQ0osU0FBUyxDQUFDQyxTQUFTLENBQUNJLE1BQU0sQ0FBQyxTQUFTLENBQUM7TUFDckNQLE1BQU0sQ0FBQ0csU0FBUyxDQUFDSSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2pDO0VBQ0Y7RUFDRjs7RUFFRTtFQUNBLFNBQVNDLFlBQVksR0FBRztJQUN0QixJQUFNQyxPQUFPLEdBQUdYLFFBQVEsQ0FBQ1ksZ0JBQWdCLENBQUMsY0FBYyxDQUFDO0lBRXpERCxPQUFPLENBQUNFLE9BQU8sQ0FBQyxVQUFBQyxNQUFNLEVBQUk7TUFDeEJBLE1BQU0sQ0FBQ2IsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNjLEtBQUssRUFBQztRQUM5Q0EsS0FBSyxDQUFDQyxjQUFjLEVBQUU7UUFFdEIsSUFBTUMsT0FBTyxHQUFHSCxNQUFNLENBQUNJLFlBQVksQ0FB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
